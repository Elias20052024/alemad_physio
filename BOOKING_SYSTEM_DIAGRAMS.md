# ğŸ“Š APPOINTMENT BOOKING SYSTEM - VISUAL GUIDE

## System Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   FRONTEND (React)                         â”‚
â”‚                   Port: 3000                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  Booking Form    â”‚  â”‚ Patient Dashboardâ”‚  â”‚  Admin   â”‚â”‚
â”‚  â”‚  (4-step)        â”‚  â”‚ (View & Cancel)  â”‚  â”‚  Panel   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜â”‚
â”‚           â”‚                     â”‚                   â”‚     â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                 â”‚                        â”‚
â”‚                    Custom Hooks (useAppointments)       â”‚
â”‚                    usePatients, useTherapists           â”‚
â”‚                                 â”‚                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   API Client (Axios)      â”‚
                    â”‚  - JWT Interceptor        â”‚
                    â”‚  - Error Handler          â”‚
                    â”‚  - Base URL Config        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    HTTP Requests â”‚ JSON Responses
                                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              BACKEND (Express.js)                         â”‚
â”‚              Port: 5000                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  API Routes:                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ POST   /api/appointments          Create booking  â”‚ â”‚
â”‚  â”‚ GET    /api/appointments          List all        â”‚ â”‚
â”‚  â”‚ PUT    /api/appointments/:id      Update booking  â”‚ â”‚
â”‚  â”‚ PATCH  /api/appointments/:id/status Change statusâ”‚ â”‚
â”‚  â”‚ DELETE /api/appointments/:id      Delete booking  â”‚ â”‚
â”‚  â”‚ GET    /api/appointments/available-slots  Slots   â”‚ â”‚
â”‚  â”‚ GET    /api/patients              List patients   â”‚ â”‚
â”‚  â”‚ POST   /api/patients              Create patient  â”‚ â”‚
â”‚  â”‚ GET    /api/therapists            List therapists â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                           â”‚
â”‚  Controllers:                                            â”‚
â”‚  - appointmentController.js                             â”‚
â”‚  - patientController.js                                 â”‚
â”‚  - therapistController.js                               â”‚
â”‚                                                           â”‚
â”‚  Middleware:                                             â”‚
â”‚  - Auth middleware                                       â”‚
â”‚  - Error handler                                         â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
           Prisma ORM (Type-safe queries)
                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         PostgreSQL Database (Neon)                        â”‚
â”‚         ap-southeast-1.aws.neon.tech                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ appointments                                        â”‚ â”‚
â”‚  â”‚  â€¢ id, therapistId, patientId                      â”‚ â”‚
â”‚  â”‚  â€¢ service, date, time, duration                   â”‚ â”‚
â”‚  â”‚  â€¢ status (scheduled/completed/cancelled)          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ patients                                            â”‚ â”‚
â”‚  â”‚  â€¢ id, fullName, phone, age, gender               â”‚ â”‚
â”‚  â”‚  â€¢ medicalHistory                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ therapists                                          â”‚ â”‚
â”‚  â”‚  â€¢ id, name, specialty, email, phone, status       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ therapist_schedules                                 â”‚ â”‚
â”‚  â”‚  â€¢ therapistId, dayOfWeek, startTime, endTime      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ therapist_days_off                                  â”‚ â”‚
â”‚  â”‚  â€¢ therapistId, date                               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Booking Flow Diagram

```
START
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 1: Select Patient              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â–¡ Choose existing patient           â”‚
â”‚   â””â”€ Fetch from database            â”‚
â”‚                                     â”‚
â”‚ â–¡ Create new patient                â”‚
â”‚   â””â”€ POST /api/patients             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 2: Select Therapist            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ GET /api/therapists                 â”‚
â”‚   â†“                                 â”‚
â”‚ Show therapy cards:                 â”‚
â”‚ â€¢ Dr. Ahmed (Physiotherapy)        â”‚
â”‚ â€¢ Dr. Fatima (Sports Medicine)     â”‚
â”‚ â€¢ Dr. Mohammed (Rehabilitation)    â”‚
â”‚                                     â”‚
â”‚ User clicks on therapist            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 3: Select Date & Time          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ User picks date                     â”‚
â”‚   â”‚                                 â”‚
â”‚   â–¼                                 â”‚
â”‚ GET /api/appointments/available-slots
â”‚   therapistId, date, duration       â”‚
â”‚   â†“                                 â”‚
â”‚ Show available time slots:          â”‚
â”‚ â€¢ 09:00  â€¢ 10:00  â€¢ 11:00          â”‚
â”‚ â€¢ 14:00  â€¢ 15:00  â€¢ 16:00          â”‚
â”‚                                     â”‚
â”‚ User clicks time slot               â”‚
â”‚ User selects service & duration     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 4: Review & Confirm            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Show summary:                       â”‚
â”‚ â€¢ Patient: Ahmed Al-Rashid         â”‚
â”‚ â€¢ Therapist: Dr. Ahmed             â”‚
â”‚ â€¢ Date: Dec 20, 2024               â”‚
â”‚ â€¢ Time: 10:00 AM                   â”‚
â”‚ â€¢ Service: Physiotherapy           â”‚
â”‚ â€¢ Duration: 60 min                 â”‚
â”‚                                     â”‚
â”‚ [Back]  [Confirm Booking]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POST /api/appointments              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Send booking data to backend        â”‚
â”‚   â€¢ therapistId: 1                 â”‚
â”‚   â€¢ patientId: 3                   â”‚
â”‚   â€¢ service: "Physiotherapy"       â”‚
â”‚   â€¢ date: "2024-12-20T10:00:00Z"  â”‚
â”‚   â€¢ time: "10:00"                  â”‚
â”‚   â€¢ duration: 60                   â”‚
â”‚   â€¢ status: "scheduled"            â”‚
â”‚                                     â”‚
â”‚ Backend:                            â”‚
â”‚   1. Validates data                 â”‚
â”‚   2. Checks availability again      â”‚
â”‚   3. Saves to database              â”‚
â”‚   4. Returns success                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âœ… SUCCESS!                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Appointment booked successfully!    â”‚
â”‚                                     â”‚
â”‚ Appointment ID: 42                  â”‚
â”‚ Status: Scheduled                   â”‚
â”‚                                     â”‚
â”‚ [View My Appointments]  [Book Again]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚
  â–¼
END
```

---

## Patient Dashboard Flow

```
LOGIN
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Patient Dashboard                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ GET /api/patients/:id               â”‚
â”‚ GET /api/appointments (filter by    â”‚
â”‚     patientId)                      â”‚
â”‚                                     â”‚
â”‚ Display:                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ ğŸ‘¤ Ahmed Al-Rashid               â”‚â”‚
â”‚ â”‚ ğŸ“± +966551234567                 â”‚â”‚
â”‚ â”‚ ğŸ‚ Age: 35                       â”‚â”‚
â”‚ â”‚ ğŸ‘• Gender: Male                  â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                     â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚ â”‚ My Appointments (3)              â”‚â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚ â”‚ Dr. Ahmed    | Physiotherapy     â”‚â”‚
â”‚ â”‚ Dec 20 10:00 | 60 min            â”‚â”‚
â”‚ â”‚ Status: ğŸ“… Scheduled             â”‚â”‚
â”‚ â”‚ [Cancel]                         â”‚â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚ â”‚ Dr. Fatima   | Sports Massage    â”‚â”‚
â”‚ â”‚ Dec 25 14:00 | 45 min            â”‚â”‚
â”‚ â”‚ Status: âœ… Completed             â”‚â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚ â”‚ Dr. Mohammed | Manual Therapy    â”‚â”‚
â”‚ â”‚ Jan 5 11:00  | 50 min            â”‚â”‚
â”‚ â”‚ Status: ğŸ“… Scheduled             â”‚â”‚
â”‚ â”‚ [Cancel]                         â”‚â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚                                     â”‚
â”‚ [ğŸ“… Book New Appointment]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Admin Panel Flow

```
ADMIN LOGIN
  â”‚
  â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Admin Dashboard                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Click: Manage Appointments          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
             â”‚
             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Manage Appointments Page            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ GET /api/appointments (no filter)   â”‚
â”‚   â†“                                 â”‚
â”‚ Show ALL appointments:              â”‚
â”‚                                     â”‚
â”‚ Filters:                            â”‚
â”‚ Status: [All â–¼] Therapist: [All â–¼] â”‚
â”‚ Patient: [All â–¼] Date: [________]   â”‚
â”‚                                     â”‚
â”‚ Results:                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ Patient | Therapist | Service  â”‚ â”‚
â”‚ â”‚ Ahmed   | Dr. Ahmed | Physio   â”‚ â”‚
â”‚ â”‚ Dec 20, 10:00 | Status: [Schâ–¼] â”‚ â”‚
â”‚ â”‚ [Delete]                        â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ Fatima  | Dr. Fatima| Sports   â”‚ â”‚
â”‚ â”‚ Dec 25, 14:00 | Status: [Comâ–¼] â”‚ â”‚
â”‚ â”‚ [Delete]                        â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ Mohammed| Dr. Ahmed | Rehab    â”‚ â”‚
â”‚ â”‚ Jan 5, 11:00 | Status: [Schâ–¼]  â”‚ â”‚
â”‚ â”‚ [Delete]                        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                     â”‚
â”‚ Drag to change status or click      â”‚
â”‚ dropdown to update                  â”‚
â”‚                                     â”‚
â”‚ PATCH /api/appointments/:id/status  â”‚
â”‚   status: "completed"               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Available Slots Calculation

```
User selects: Therapist = Dr. Ahmed, Date = Dec 20, Duration = 60 min

Backend Process:
  â”‚
  â”œâ”€ Get therapist schedule
  â”‚   â””â”€ GET therapist_schedules
  â”‚       WHERE therapistId=1 AND dayOfWeek=3
  â”‚       Result: startTime="09:00", endTime="17:00"
  â”‚
  â”œâ”€ Check if day off
  â”‚   â””â”€ GET therapist_days_off
  â”‚       WHERE therapistId=1 AND date="2024-12-20"
  â”‚       Result: NOT day off âœ“
  â”‚
  â”œâ”€ Get existing appointments
  â”‚   â””â”€ GET appointments
  â”‚       WHERE therapistId=1 AND date="2024-12-20"
  â”‚       Results:
  â”‚       â€¢ 10:00-11:00 (Dr. Ahmed - patient A)
  â”‚       â€¢ 14:00-15:00 (Dr. Ahmed - patient B)
  â”‚
  â”œâ”€ Calculate available slots
  â”‚   Start: 09:00
  â”‚   Occupied: 10:00-11:00, 14:00-15:00
  â”‚   Duration needed: 60 min
  â”‚   â”‚
  â”‚   Available slots:
  â”‚   â€¢ 09:00 âœ“ (no conflict)
  â”‚   â€¢ 10:00 âœ— (occupied)
  â”‚   â€¢ 11:00 âœ“ (no conflict)
  â”‚   â€¢ 12:00 âœ“ (no conflict)
  â”‚   â€¢ 13:00 âœ“ (no conflict)
  â”‚   â€¢ 14:00 âœ— (occupied)
  â”‚   â€¢ 15:00 âœ“ (no conflict)
  â”‚   â€¢ 16:00 âœ“ (no conflict)
  â”‚
  â””â”€ Return to frontend
      Result: ["09:00", "11:00", "12:00", "13:00", "15:00", "16:00"]

Frontend Display:
  [09:00] [11:00] [12:00] [13:00] [15:00] [16:00]
```

---

## Data Relationships

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Patient    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id: 1       â”‚
â”‚ fullName    â”‚
â”‚ phone       â”‚
â”‚ age         â”‚
â”‚ gender      â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ 1 Patient has many
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Appointment         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id: 1                â”‚
â”‚ patientId: 1 â—„â”€â”€â”€â”  â”‚
â”‚ therapistId: 2   â”‚  â”‚
â”‚ service          â”‚  â”‚
â”‚ date, time       â”‚  â”‚
â”‚ status           â”‚  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”˜
     â”‚             â”‚
     â”‚             â””â”€â”€â”€â”€â”€â”€â”
     â”‚                    â”‚
     â”‚            1 Therapist has many
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Therapist           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id: 2                â”‚
â”‚ name                 â”‚
â”‚ specialty            â”‚
â”‚ email, phone         â”‚
â”‚ status               â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ 1 Therapist has many
     â”‚
     â”œâ”€â†’ TherapistSchedule
     â”‚   (Mon-Fri 9-5)
     â”‚
     â”œâ”€â†’ TherapistBreak
     â”‚   (Lunch, etc)
     â”‚
     â””â”€â†’ TherapistDayOff
         (Vacations, sick, etc)
```

---

## Component Hierarchy

```
App.jsx
â”‚
â”œâ”€ Routes
â”‚  â”‚
â”‚  â”œâ”€ /appointments/book
â”‚  â”‚  â””â”€ AppointmentBookingForm
â”‚  â”‚     â”œâ”€ Step1: PatientSelector
â”‚  â”‚     â”œâ”€ Step2: TherapistCard
â”‚  â”‚     â”œâ”€ Step3: DateTimePicker
â”‚  â”‚     â”‚   â””â”€ calls getAvailableSlots()
â”‚  â”‚     â””â”€ Step4: ReviewConfirm
â”‚  â”‚
â”‚  â”œâ”€ /patient/dashboard
â”‚  â”‚  â””â”€ PatientDashboardDB
â”‚  â”‚     â”œâ”€ PatientInfo Cards
â”‚  â”‚     â””â”€ AppointmentList Table
â”‚  â”‚
â”‚  â””â”€ /admin/appointments
â”‚     â””â”€ ManageAppointments
â”‚        â”œâ”€ Filters
â”‚        â””â”€ AppointmentsTable
â”‚           â””â”€ StatusDropdown
â”‚
â””â”€ Providers
   â”œâ”€ ThemeContext
   â”œâ”€ LanguageContext
   â””â”€ API Client (Axios)
```

---

## State Management Flow

```
AppointmentBookingForm Component State:
â”‚
â”œâ”€ step: 1-4
â”œâ”€ patients: [] (GET /api/patients)
â”œâ”€ therapists: [] (GET /api/therapists)
â”œâ”€ selectedPatient: {}
â”œâ”€ selectedTherapist: {}
â”œâ”€ selectedDate: "2024-12-20"
â”œâ”€ availableSlots: ["09:00", "10:00", ...]
â”œâ”€ selectedSlot: "10:00"
â”œâ”€ serviceType: "Physiotherapy"
â”œâ”€ duration: 60
â”œâ”€ loading: false
â””â”€ error: ""

On Submit:
  POST /api/appointments {
    therapistId, patientId, service, date, time, duration, status
  }
  â†“
  Database saves
  â†“
  Success message shown
  â†“
  Form resets
```

---

**Complete system visualization! ğŸ¨**
